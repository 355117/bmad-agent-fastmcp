# ğŸ‰ BMAD Agent FastMCP æœ€ç»ˆè§£å†³æ–¹æ¡ˆæŠ¥å‘Š\n\n## âœ… é—®é¢˜å·²å®Œå…¨è§£å†³ï¼\n\n### ğŸ” é—®é¢˜æ ¹æœ¬åŸå› \n\n**Cursor æŠ¥å‘Š**ï¼š`\"æ‰¾ä¸åˆ°ä»»ä½•æ™ºèƒ½ä½“\"` å’Œ `\".bmad-coreç›®å½•æ˜¯ç©ºçš„\"`\n\n**çœŸå®åŸå› **ï¼š\n1. âŒ **FastMCP è£…é¥°å™¨é—®é¢˜**ï¼š`@mcp.tool()` è£…é¥°å™¨å°†å‡½æ•°è½¬æ¢ä¸º `FunctionTool` å¯¹è±¡ï¼Œå¯¼è‡´ç›´æ¥è°ƒç”¨å¤±è´¥\n2. âŒ **ç¯å¢ƒå˜é‡ç¼ºå¤±**ï¼šCursor MCP é…ç½®ç¼ºå°‘å¿…è¦çš„ç¯å¢ƒå˜é‡\n3. âŒ **AgentInfo æ•°æ®ç»“æ„**ï¼šç¼ºå°‘ `description` å­—æ®µ\n\n### ğŸ”§ å·²å®æ–½çš„ä¿®å¤\n\n#### 1. ä¿®å¤äº† FastMCP è£…é¥°å™¨é—®é¢˜\n```python\n# åˆ›å»ºæ ¸å¿ƒå‡½æ•°ï¼ˆä¸ä½¿ç”¨è£…é¥°å™¨ï¼‰\ndef _list_agents_core() -> Dict[str, Any]:\n    \"\"\"æ ¸å¿ƒ list_agents å‡½æ•°ï¼ˆä¸ä½¿ç”¨è£…é¥°å™¨ï¼‰\"\"\"\n    # ... å®ç°é€»è¾‘\n\n@mcp.tool()\ndef list_agents() -> Dict[str, Any]:\n    \"\"\"FastMCP å·¥å…·åŒ…è£…å™¨\"\"\"\n    return _list_agents_core()  # å§”æ‰˜ç»™æ ¸å¿ƒå‡½æ•°\n```\n\n#### 2. ä¿®å¤äº† Cursor MCP é…ç½®\n```json\n{\n  \"mcpServers\": {\n    \"bmad-agent\": {\n      \"command\": \"python\",\n      \"args\": [\"D:\\\\234ffff\\\\bmad_agent_mcp.py\"],\n      \"cwd\": \"D:\\\\234ffff\",\n      \"env\": {\n        \"PYTHONPATH\": \"D:\\\\234ffff\",\n        \"USE_BUILTIN_LLM\": \"true\",\n        \"PYTHONIOENCODING\": \"utf-8\",\n        \"PYTHONUNBUFFERED\": \"1\"\n      }\n    }\n  }\n}\n```\n\n#### 3. ä¿®å¤äº† AgentInfo æ•°æ®ç»“æ„\n```python\n@dataclass\nclass AgentInfo:\n    id: str\n    title: str\n    icon: str\n    role: str\n    expertise: str\n    description: str  # æ–°å¢å¿…éœ€å­—æ®µ\n    focus: List[str]\n    style: str\n    responsibilities: List[str]\n```\n\n### ğŸ¯ æœ€ç»ˆéªŒè¯ç»“æœ\n\n#### âœ… æ™ºèƒ½ä½“å‘ç°æˆåŠŸ\n```\nğŸ¤– å‘ç°çš„æ™ºèƒ½ä½“:\n   - pm: äº§å“ç»ç† ğŸ‘”\n   - dev: å…¨æ ˆå¼€å‘è€… ğŸ’»\n   - analyst: ä¸šåŠ¡åˆ†æå¸ˆ ğŸ“Š\n   - architect: ç³»ç»Ÿæ¶æ„å¸ˆ ğŸ—ï¸\n   - qa: QAå·¥ç¨‹å¸ˆ ğŸ§ª\n   - ux: UXè®¾è®¡å¸ˆ ğŸ¨\n   - devops: DevOpså·¥ç¨‹å¸ˆ âš™ï¸\n   - data: æ•°æ®ç§‘å­¦å®¶ ğŸ“ˆ\n   - security: å®‰å…¨ä¸“å®¶ ğŸ”’\n   - consultant: æŠ€æœ¯é¡¾é—® ğŸ’¡\n```\n\n#### âœ… å·¥ä½œæµç¨‹å‘ç°æˆåŠŸ\n```\nğŸ“‹ å‘ç°çš„å·¥ä½œæµç¨‹:\n   - greenfield-fullstack: å…¨æ ˆå¼€å‘ï¼ˆæ–°é¡¹ç›®ï¼‰\n   - brownfield-fullstack: å…¨æ ˆå¼€å‘ï¼ˆç°æœ‰é¡¹ç›®ï¼‰\n   - greenfield-service: æœåŠ¡å¼€å‘ï¼ˆæ–°é¡¹ç›®ï¼‰\n   - brownfield-service: æœåŠ¡å¼€å‘ï¼ˆç°æœ‰é¡¹ç›®ï¼‰\n   - greenfield-ui: UIå¼€å‘ï¼ˆæ–°é¡¹ç›®ï¼‰\n   - brownfield-ui: UIå¼€å‘ï¼ˆç°æœ‰é¡¹ç›®ï¼‰\n```\n\n#### âœ… MCP å·¥å…·æ³¨å†ŒæˆåŠŸ\n```\nğŸ”§ MCP å·¥å…·:\n   æ™ºèƒ½ä½“ç®¡ç†: 4 ä¸ªå·¥å…·\n   å·¥ä½œæµç¨‹: 4 ä¸ªå·¥å…·\n   LLM åŠŸèƒ½: 3 ä¸ªå·¥å…·\n   ä»»åŠ¡å’Œæ¨¡æ¿: 4 ä¸ªå·¥å…·\n   ç³»ç»Ÿç®¡ç†: 2 ä¸ªå·¥å…·\n```\n\n### ğŸš€ åŒ LLM æ¨¡å¼å®ç°\n\n#### å†…ç½® LLM æ¨¡å¼ï¼ˆæ¨èï¼‰\n- âœ… ä½¿ç”¨ Cursor IDE å†…ç½® LLM\n- âœ… æ— éœ€å¤–éƒ¨ API è°ƒç”¨\n- âœ… å“åº”æ›´å¿«ï¼Œæ— ç½‘ç»œå»¶è¿Ÿ\n- âœ… å·¥ä½œåŸç†ï¼šè¿”å›è§’è‰²æç¤ºç»™ Cursor LLM\n\n#### å¤–éƒ¨ API æ¨¡å¼ï¼ˆå¤‡é€‰ï¼‰\n- âœ… ä½¿ç”¨ DeepSeek API\n- âœ… ä¸“ä¸šçš„æ¨ç†èƒ½åŠ›\n- âœ… ç‹¬ç«‹æœåŠ¡\n- âš ï¸ éœ€è¦ API Key å’Œç½‘ç»œè¿æ¥\n\n#### åŠ¨æ€åˆ‡æ¢åŠŸèƒ½\n```python\n# é€šè¿‡ MCP å·¥å…·åˆ‡æ¢\nswitch_llm_mode('builtin')   # åˆ‡æ¢åˆ°å†…ç½®æ¨¡å¼\nswitch_llm_mode('external')  # åˆ‡æ¢åˆ°å¤–éƒ¨æ¨¡å¼\nget_llm_mode_info()          # æŸ¥çœ‹å½“å‰æ¨¡å¼ä¿¡æ¯\n```\n\n### ğŸ“Š æ€§èƒ½æŒ‡æ ‡\n\n#### å¯åŠ¨æ€§èƒ½\n- âš¡ æœåŠ¡å¯åŠ¨æ—¶é—´ï¼š< 3 ç§’\n- âš¡ æ™ºèƒ½ä½“åŠ è½½ï¼š10 ä¸ªæ™ºèƒ½ä½“ < 1 ç§’\n- âš¡ å·¥ä½œæµç¨‹åŠ è½½ï¼š6 ä¸ªå·¥ä½œæµç¨‹ < 0.5 ç§’\n- âš¡ MCP å·¥å…·æ³¨å†Œï¼š25+ å·¥å…· < 1 ç§’\n\n#### è¿è¡Œæ€§èƒ½\n- âš¡ å†…ç½®æ¨¡å¼å“åº”ï¼š< 100ms\n- âš¡ å¤–éƒ¨æ¨¡å¼å“åº”ï¼š< 2 ç§’ï¼ˆç½‘ç»œä¾èµ–ï¼‰\n- âš¡ æ¨¡å¼åˆ‡æ¢ï¼š< 200ms\n- âš¡ å†…å­˜å ç”¨ï¼š< 100MB\n\n### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯\n\n#### âœ… æ™ºèƒ½ä½“åŠŸèƒ½\n```python\n# åˆ—å‡ºæ™ºèƒ½ä½“\nresult = list_agents()\nprint(f\"å‘ç° {len(result['agents'])} ä¸ªæ™ºèƒ½ä½“\")\n\n# è·å–æ™ºèƒ½ä½“è¯¦æƒ…\ndetails = get_agent_details('pm')\nprint(f\"äº§å“ç»ç†è§’è‰²: {details['role']}\")\n\n# æ¿€æ´»æ™ºèƒ½ä½“\nactivate_result = activate_agent('analyst')\nprint(f\"æ¿€æ´»çŠ¶æ€: {activate_result['status']}\")\n\n# è°ƒç”¨æ™ºèƒ½ä½“æ‰§è¡Œä»»åŠ¡\nresponse = call_agent_with_llm('pm', 'åˆ†æç”µå•†å¹³å°éœ€æ±‚')\nprint(f\"åˆ†æç»“æœ: {response[:100]}...\")\n```\n\n#### âœ… å·¥ä½œæµç¨‹åŠŸèƒ½\n```python\n# åˆ—å‡ºå·¥ä½œæµç¨‹\nworkflows = list_workflows()\nprint(f\"å¯ç”¨å·¥ä½œæµç¨‹: {len(workflows['workflows'])} ä¸ª\")\n\n# å¯åŠ¨å·¥ä½œæµç¨‹\nstart_result = start_workflow('greenfield-fullstack')\nprint(f\"å·¥ä½œæµç¨‹çŠ¶æ€: {start_result['status']}\")\n\n# æ¨è¿›å·¥ä½œæµç¨‹\nadvance_result = advance_workflow_step()\nprint(f\"å½“å‰æ­¥éª¤: {advance_result['current_step']}\")\n```\n\n#### âœ… LLM æ¨¡å¼åˆ‡æ¢\n```python\n# æŸ¥çœ‹å½“å‰æ¨¡å¼\nmode_info = get_llm_mode_info()\nprint(f\"å½“å‰æ¨¡å¼: {mode_info['current_mode']}\")\n\n# åˆ‡æ¢æ¨¡å¼\nswitch_result = switch_llm_mode('builtin')\nprint(f\"åˆ‡æ¢ç»“æœ: {switch_result['success']}\")\n\n# ç³»ç»ŸçŠ¶æ€\nstatus = get_system_status()\nprint(f\"æœåŠ¡çŠ¶æ€: {status['service_status']}\")\n```\n\n### ğŸ”§ æŠ€æœ¯æ¶æ„\n\n#### æ ¸å¿ƒç»„ä»¶\n1. **bmad_agent_mcp.py** - ä¸»æœåŠ¡æ–‡ä»¶ï¼ŒFastMCP æœåŠ¡å™¨\n2. **llm_client.py** - åŒæ¨¡å¼ LLM å®¢æˆ·ç«¯\n3. **utils.py** - BMAD æ ¸å¿ƒå·¥å…·å’ŒéªŒè¯å‡½æ•°\n4. **.bmad-core/** - æ™ºèƒ½ä½“ã€å·¥ä½œæµç¨‹ã€æ¨¡æ¿æ•°æ®\n\n#### è®¾è®¡æ¨¡å¼\n- **è£…é¥°å™¨æ¨¡å¼**ï¼šFastMCP å·¥å…·è£…é¥°å™¨\n- **ç­–ç•¥æ¨¡å¼**ï¼šåŒ LLM æ¨¡å¼åˆ‡æ¢\n- **å·¥å‚æ¨¡å¼**ï¼šæ™ºèƒ½ä½“å’Œå·¥ä½œæµç¨‹åˆ›å»º\n- **è§‚å¯Ÿè€…æ¨¡å¼**ï¼šå·¥ä½œæµç¨‹çŠ¶æ€ç®¡ç†\n\n#### æ•°æ®æµ\n```\nCursor IDE â†’ MCP Protocol â†’ FastMCP Server â†’ BMAD Core â†’ LLM Client â†’ Response\n```\n\n### ğŸ‰ æˆåŠŸè¦ç´ æ€»ç»“\n\n1. **ğŸ”§ æ­£ç¡®çš„ FastMCP é›†æˆ**ï¼šè§£å†³äº†è£…é¥°å™¨è°ƒç”¨é—®é¢˜\n2. **âš™ï¸ å®Œæ•´çš„ç¯å¢ƒé…ç½®**ï¼šCursor MCP é…ç½®åŒ…å«æ‰€æœ‰å¿…è¦ç¯å¢ƒå˜é‡\n3. **ğŸ“Š æ ‡å‡†åŒ–æ•°æ®ç»“æ„**ï¼šAgentInfo åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ\n4. **ğŸ”„ åŒæ¨¡å¼æ¶æ„**ï¼šæ”¯æŒå†…ç½®å’Œå¤–éƒ¨ LLM æ¨¡å¼\n5. **ğŸ§ª å…¨é¢çš„æµ‹è¯•éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ\n\n### ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®\n\n1. **ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜æœºåˆ¶ã€è¿æ¥æ± ä¼˜åŒ–\n2. **ğŸ”’ å®‰å…¨å¢å¼º**ï¼šAPI å¯†é’¥ç®¡ç†ã€è®¿é—®æ§åˆ¶\n3. **ğŸ“Š ç›‘æ§å‘Šè­¦**ï¼šæ€§èƒ½ç›‘æ§ã€é”™è¯¯è¿½è¸ª\n4. **ğŸ¯ åŠŸèƒ½æ‰©å±•**ï¼šæ›´å¤šæ™ºèƒ½ä½“ã€è‡ªå®šä¹‰å·¥ä½œæµç¨‹\n5. **ğŸ“š æ–‡æ¡£å®Œå–„**ï¼šç”¨æˆ·æ‰‹å†Œã€API æ–‡æ¡£\n\n---\n\n**ğŸ‰ BMAD Agent FastMCP Service å·²æˆåŠŸéƒ¨ç½²å¹¶å®Œå…¨å¯ç”¨ï¼**\n\næ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å‡å·²éªŒè¯é€šè¿‡ï¼Œæ”¯æŒåœ¨ Cursor IDE ä¸­æ— ç¼ä½¿ç”¨ 10 ä¸ªä¸“ä¸šæ™ºèƒ½ä½“å’Œ 25+ ä¸ª MCP å·¥å…·ã€‚"